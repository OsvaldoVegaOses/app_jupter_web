---
// src/pages/index.astro
import Layout from '../layouts/Layout.astro';
import { Sparkles, Brain, Network, Database, ChevronRight, Activity, Share2, Search, Mail, Shield, Zap, Globe, MessageSquare, Send } from 'lucide-react';
---

<Layout title="APP_Jupter | Análisis Cualitativo con GraphRAG">
	<!-- Background Effects -->
	<div class="fixed inset-0 z-0 overflow-hidden pointer-events-none">
		<div class="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary-500/20 rounded-full blur-[120px] animate-blob"></div>
		<div class="absolute top-[20%] right-[-10%] w-[35%] h-[35%] bg-secondary-500/20 rounded-full blur-[120px] animate-blob" style="animation-delay: 2s;"></div>
		<div class="absolute bottom-[-10%] left-[20%] w-[40%] h-[40%] bg-accent-500/10 rounded-full blur-[120px] animate-blob" style="animation-delay: 4s;"></div>
	</div>

	<!-- Floating Navbar -->
	<nav class="fixed w-full z-50 top-4 px-4">
		<div class="max-w-5xl mx-auto glass rounded-2xl px-6 py-3 flex items-center justify-between">
			<div class="flex items-center gap-2">
				<div class="bg-gradient-to-tr from-primary-500 to-accent-400 p-1.5 rounded-lg">
					<Network className="w-5 h-5 text-white" />
				</div>
				<span class="text-xl font-bold tracking-tight text-white">
					APP_Jupter
				</span>
			</div>
			
			<div class="hidden md:flex items-center gap-8">
				<a href="#metodologia" class="text-sm font-medium text-slate-300 hover:text-white transition-colors">Metodología</a>
				<a href="#arquitectura" class="text-sm font-medium text-slate-300 hover:text-white transition-colors">Arquitectura</a>
				<a href="#innovacion" class="text-sm font-medium text-slate-300 hover:text-white transition-colors">Innovación</a>
				<a href="#contacto" class="text-sm font-medium text-slate-300 hover:text-white transition-colors">Contacto</a>
			</div>

			<a href="#contacto" class="hidden md:flex items-center gap-2 bg-white/10 hover:bg-white/20 border border-white/10 px-4 py-2 rounded-lg text-sm font-semibold text-white transition-all hover:scale-105 active:scale-95">
				Solicitar Demo
				<ChevronRight className="w-4 h-4" />
			</a>
		</div>
	</nav>

	<!-- Hero Section -->
	<section class="relative pt-40 pb-20 lg:pt-52 lg:pb-32 overflow-hidden z-10">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
			<div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-xs font-semibold uppercase tracking-wider mb-8 animate-float">
				<Sparkles className="w-3 h-3" />
				Investigación Aumentada por IA
			</div>
			
			<h1 class="text-5xl md:text-7xl font-bold tracking-tight text-white mb-8 leading-tight">
				Decodificando la <br class="hidden md:block" />
				<span class="text-gradient">Complejidad Social</span>
			</h1>
			
			<p class="mt-4 max-w-2xl mx-auto text-xl text-slate-400 leading-relaxed">
				La primera plataforma que transforma entrevistas cualitativas en 
				estructuras lógicas trazables usando <span class="text-primary-400 font-semibold font-mono">GraphRAG</span> y <span class="text-accent-400 font-semibold">Teoría Fundamentada</span>.
			</p>
			
			<div class="mt-12 flex flex-col sm:sm:flex-row justify-center gap-4">
				<a href="#arquitectura" class="group relative px-8 py-4 bg-primary-600 hover:bg-primary-500 rounded-xl text-white font-semibold transition-all shadow-[0_0_20px_rgba(59,130,246,0.5)] hover:shadow-[0_0_30px_rgba(59,130,246,0.6)]">
					<div class="absolute inset-0 rounded-xl ring-2 ring-white/20 group-hover:ring-white/40 transition-all"></div>
					Explorar Arquitectura
				</a>
				<a href="#innovacion" class="px-8 py-4 glass hover:bg-white/10 rounded-xl text-white font-semibold transition-all flex items-center justify-center gap-2">
					<Zap className="w-5 h-5 text-accent-400" />
					Siguiente Frontera
				</a>
			</div>
		</div>

		<!-- Abstract Visualization -->
		<div class="mt-20 relative max-w-5xl mx-auto h-[400px] md:h-[500px] glass-card rounded-2xl border border-white/5 overflow-hidden flex items-center justify-center">
			<div class="absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,_rgba(59,130,246,0.1),transparent_70%)]"></div>
			
			<!-- Graph Nodes -->
			<div class="relative w-full h-full">
                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-primary-500/20 rounded-full animate-[spin_10s_linear_infinite]"></div>
                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 border border-secondary-500/10 rounded-full animate-[spin_15s_linear_infinite_reverse]"></div>
                
                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
                    <div class="relative">
                        <div class="w-4 h-4 bg-white rounded-full shadow-[0_0_20px_white] animate-pulse"></div>
                        <div class="absolute top-0 left-0 w-full h-full bg-primary-500 rounded-full animate-ping opacity-75"></div>
                    </div>
                </div>

                <div class="absolute top-[30%] left-[20%] p-3 glass rounded-xl flex items-center gap-3 animate-float" style="animation-delay: 0s;">
                    <div class="w-2 h-2 bg-accent-400 rounded-full"></div>
                    <span class="text-xs text-slate-300 font-mono">Entrevista_001.txt</span>
                </div>
                
                <div class="absolute bottom-[40%] right-[20%] p-3 glass rounded-xl flex items-center gap-3 animate-float" style="animation-delay: 2s;">
                    <div class="w-2 h-2 bg-primary-400 rounded-full"></div>
                    <span class="text-xs text-slate-300 font-mono">Concepto: Vulnerabilidad</span>
                </div>

                <div class="absolute top-[60%] left-[60%] p-3 glass rounded-xl flex items-center gap-3 animate-float" style="animation-delay: 1.5s;">
                    <div class="w-2 h-2 bg-secondary-400 rounded-full"></div>
                    <span class="text-xs text-slate-300 font-mono">Insight #42</span>
                </div>
			</div>
		</div>
	</section>

	<section class="py-24 relative z-10">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-center">
				<div>
					<h2 class="text-3xl md:text-4xl font-bold text-white mb-6">
						Más allá del <br/>
						<span class="text-secondary-400">Análisis de Texto Plano</span>
					</h2>
					<p class="text-slate-400 mb-8 text-lg leading-relaxed">
						Nuestra arquitectura evita las "alucinaciones" al anclar cada respuesta en un grafo de conocimiento verificable, potenciado por la infraestructura de <span class="text-white">Azure</span>.
					</p>
					
					<div class="space-y-6">
						<div class="flex items-start gap-4 p-4 glass rounded-xl hover:bg-white/5 transition-colors">
							<div class="p-2 bg-accent-500/10 rounded-lg">
								<Search className="w-6 h-6 text-accent-400" />
							</div>
							<div>
								<h3 class="text-white font-semibold text-lg">Trazabilidad Total</h3>
								<p class="text-slate-400 text-sm mt-1">Cada insight generado vincula al fragmento exacto y documento original.</p>
							</div>
						</div>
						
						<div class="flex items-start gap-4 p-4 glass rounded-xl hover:bg-white/5 transition-colors">
							<div class="p-2 bg-primary-500/10 rounded-lg">
								<Brain className="w-6 h-6 text-primary-400" />
							</div>
							<div>
								<h3 class="text-white font-semibold text-lg">Descubrimiento Latente</h3>
								<p class="text-slate-400 text-sm mt-1">Algoritmos de grafos detectan conexiones que el investigador no vió explícitamente.</p>
							</div>
						</div>

						<div class="flex items-start gap-4 p-4 glass rounded-xl hover:bg-white/5 transition-colors">
							<div class="p-2 bg-secondary-500/10 rounded-lg">
								<Share2 className="w-6 h-6 text-secondary-400" />
							</div>
							<div>
								<h3 class="text-white font-semibold text-lg">Saturación Matemática</h3>
								<p class="text-slate-400 text-sm mt-1">Validación cuantitativa del estancamiento conceptual.</p>
							</div>
						</div>
					</div>
				</div>
				
				<div class="relative group">
					<div class="absolute -inset-1 bg-gradient-to-r from-primary-600 to-secondary-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"></div>
					<div class="relative glass-card p-12 rounded-2xl h-full flex flex-col justify-center items-center text-center">
						<div class="mb-6 relative">
							<div class="absolute inset-0 bg-primary-500/30 blur-2xl rounded-full"></div>
							 <Network className="w-32 h-32 text-white relative z-10" />
						</div>
						<p class="text-sm font-mono text-primary-300 bg-primary-500/10 px-4 py-2 rounded-full border border-primary-500/20">
							GraphRAG Engine Connected
						</p>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section id="arquitectura" class="py-24 bg-slate-900/50 relative z-10">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="text-center mb-16">
				<h2 class="text-base text-primary-400 font-semibold tracking-wide uppercase">Stack Tecnológico</h2>
				<p class="mt-2 text-3xl md:text-5xl font-bold text-white">
					La Tríada Híbrida
				</p>
			</div>

			<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
				<div class="glass-card p-8 rounded-2xl hover:-translate-y-2 transition-transform duration-300">
					<div class="w-12 h-12 bg-red-500/20 rounded-xl flex items-center justify-center mb-6">
						<Database className="w-6 h-6 text-red-400" />
					</div>
					<h3 class="text-xl font-bold text-white mb-3">Semántico (Qdrant)</h3>
					<p class="text-slate-400 text-sm leading-relaxed">
						Motor vectorial para búsqueda semántica profunda y recuperación de fragmentos mediante embeddings avanzados.
					</p>
				</div>

				<div class="glass-card p-8 rounded-2xl hover:-translate-y-2 transition-transform duration-300 border-primary-500/30 shadow-[0_0_30px_rgba(59,130,246,0.1)] relative">
					<div class="absolute top-0 right-0 p-3">
						<div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
					</div>
					<div class="w-12 h-12 bg-primary-500/20 rounded-xl flex items-center justify-center mb-6">
						<Share2 className="w-6 h-6 text-primary-400" />
					</div>
					<h3 class="text-xl font-bold text-white mb-3">Relacional (Neo4j)</h3>
					<p class="text-slate-300 text-sm leading-relaxed">
						El cerebro del sistema. Modela la estructura lógica y ejecuta algoritmos de GDS de alta complejidad.
					</p>
				</div>

				<div class="glass-card p-8 rounded-2xl hover:-translate-y-2 transition-transform duration-300">
					<div class="w-12 h-2 bg-blue-900/30 rounded-xl flex items-center justify-center mb-6">
						<Database className="w-6 h-6 text-blue-300" />
					</div>
					<h3 class="text-xl font-bold text-white mb-3">Operacional (PostgreSQL)</h3>
					<p class="text-slate-400 text-sm leading-relaxed">
						Persistencia robusta de usuarios, proyectos y métricas de saturación transaccionales.
					</p>
				</div>
			</div>
		</div>
	</section>

    <!-- Innovación Section (Value Added) -->
    <section id="innovacion" class="py-24 relative z-10 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-20">
                <h2 class="text-base text-accent-400 font-semibold tracking-wide uppercase">La Siguiente Frontera</h2>
                <p class="mt-2 text-3xl md:text-5xl font-bold text-white">IA y Azure de Última Generación</p>
                <p class="mt-4 text-slate-400 text-xl max-w-2xl mx-auto">Tecnologías que redefinen los límites del análisis cualitativo.</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12">
                <div class="group glass-card p-10 rounded-2xl border-l-4 border-l-primary-500 hover:bg-white/5 transition-all">
                    <div class="w-14 h-14 bg-primary-500/10 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                        <Globe className="w-7 h-7 text-primary-400" />
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Escalabilidad Enterprise (Azure)</h3>
                    <p class="text-slate-400 leading-relaxed text-lg">
                        Aprovechamos la infraestructura de Azure para gestionar volúmenes masivos de datos con seguridad de grado bancario y baja latencia global.
                    </p>
                </div>
                
                <div class="group glass-card p-10 rounded-2xl border-l-4 border-l-accent-500 hover:bg-white/5 transition-all">
                    <div class="w-14 h-14 bg-accent-500/10 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                        <Zap className="w-7 h-7 text-accent-400" />
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Agentes Autónomos GDS</h3>
                    <p class="text-slate-400 leading-relaxed text-lg">
                        Nuestros agentes codifican y analizan de forma proactiva, detectando discrepancias metodológicas y saturación teórica en tiempo real.
                    </p>
                </div>

                <div class="group glass-card p-10 rounded-2xl border-l-4 border-l-secondary-500 hover:bg-white/5 transition-all">
                    <div class="w-14 h-14 bg-secondary-500/10 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                        <Brain className="w-7 h-7 text-secondary-400" />
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Multimodalidad Nativa</h3>
                    <p class="text-slate-400 leading-relaxed text-lg">
                       Integración directa de audio, video y texto plano, permitiendo una visión 360° del fenómeno social sin pérdida de matices expresivos.
                    </p>
                </div>

                <div class="group glass-card p-10 rounded-2xl border-l-4 border-l-white/20 hover:bg-white/5 transition-all">
                    <div class="w-14 h-14 bg-white/5 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                        <Shield className="w-7 h-7 text-slate-300" />
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-4">Privacidad Ética AI</h3>
                    <p class="text-slate-400 leading-relaxed text-lg">
                        Anonimización automática de sujetos y cumplimiento estricto de las normativas de protección de datos personales.
                    </p>
                </div>
            </div>
        </div>
    </section>

	<section id="metodologia" class="py-24 relative z-10 overflow-hidden">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="text-center mb-20">
				<h2 class="text-3xl md:text-4xl font-bold text-white">Digitalización del Método Científico</h2>
			</div>

			<div class="relative">
				<div class="absolute top-1/2 left-0 w-full h-0.5 bg-gradient-to-r from-transparent via-slate-700 to-transparent -translate-y-1/2 hidden md:block"></div>

				<div class="grid grid-cols-1 md:grid-cols-3 gap-12 relative">
					<div class="text-center relative group">
						<div class="w-16 h-16 mx-auto bg-slate-900 border-2 border-slate-700 rounded-full flex items-center justify-center relative z-10 group-hover:border-primary-500 transition-colors duration-300">
							<span class="text-xl font-bold text-slate-500 group-hover:text-primary-400 transition-colors">1</span>
						</div>
						<div class="mt-6">
							<h3 class="text-lg font-bold text-white mb-2">Ingesta y Transcripción</h3>
							<p class="text-slate-400 text-sm">Diarización automática con precisión quirúrgica.</p>
						</div>
					</div>

					<div class="text-center relative group">
						<div class="w-16 h-16 mx-auto bg-slate-900 border-2 border-slate-700 rounded-full flex items-center justify-center relative z-10 group-hover:border-accent-500 transition-colors duration-300">
							<span class="text-xl font-bold text-slate-500 group-hover:text-accent-400 transition-colors">2</span>
						</div>
						<div class="mt-6">
							<h3 class="text-lg font-bold text-white mb-2">Codificación Híbrida</h3>
							<p class="text-slate-400 text-sm">Sugerencias validadas para evitar "cajas negras".</p>
						</div>
					</div>

					<div class="text-center relative group">
						<div class="w-16 h-16 mx-auto bg-slate-900 border-2 border-slate-700 rounded-full flex items-center justify-center relative z-10 group-hover:border-secondary-500 transition-colors duration-300">
							<span class="text-xl font-bold text-slate-500 group-hover:text-secondary-400 transition-colors">3</span>
						</div>
						<div class="mt-6">
							<h3 class="text-lg font-bold text-white mb-2">Análisis Axial (GDS)</h3>
							<p class="text-slate-400 text-sm">Centralidad para hallar el núcleo teórico.</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

    <!-- Contact Section -->
    <section id="contacto" class="py-24 relative z-10">
        <div class="max-w-3xl mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-5xl font-bold text-white mb-4">¿Hablamos?</h2>
                <p class="text-slate-400">Transforma tu investigación hoy. Solicita una demo personalizada.</p>
            </div>

            <div class="glass-card p-8 md:p-12 rounded-3xl border border-white/5 shadow-2xl">
                <form id="contact-form" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label for="name" class="text-sm font-medium text-slate-300 ml-1">Nombre</label>
                            <input type="text" id="name" name="name" required class="w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary-500/50 transition-all placeholder:text-slate-600" placeholder="Tu nombre" />
                        </div>
                        <div class="space-y-2">
                            <label for="email" class="text-sm font-medium text-slate-300 ml-1">Email Corporativo</label>
                            <input type="email" id="email" name="email" required class="w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary-500/50 transition-all placeholder:text-slate-600" placeholder="nombre@empresa.com" />
                        </div>
                    </div>
                    <div class="space-y-2">
                        <label for="message" class="text-sm font-medium text-slate-300 ml-1">Mensaje</label>
                        <textarea id="message" name="message" rows="4" required class="w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-primary-500/50 transition-all placeholder:text-slate-600 resize-none" placeholder="¿Cómo podemos ayudarte?"></textarea>
                    </div>
                    <button type="submit" id="submit-btn" class="w-full bg-gradient-to-r from-primary-600 to-primary-500 hover:from-primary-500 hover:to-primary-400 text-white font-bold py-4 rounded-xl transition-all shadow-lg shadow-primary-900/20 flex items-center justify-center gap-2 group">
                        Enviar Mensaje
                        <Send className="w-5 h-5 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform" />
                    </button>
                    <div id="form-message" class="hidden text-center p-3 rounded-lg text-sm"></div>
                </form>
            </div>
        </div>
    </section>

	<footer class="py-12 border-t border-white/5 bg-slate-950 relative z-10">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6">
			<div>
				<span class="text-xl font-bold text-white">APP_Jupter</span>
				<p class="text-slate-500 text-xs mt-1">Investigación cualitativa de próxima generación.</p>
			</div>
			
			<div class="flex gap-4">
				<div class="px-3 py-1 rounded-full border border-white/10 text-xs text-slate-400 hover:text-white transition cursor-default">Neo4j</div>
				<div class="px-3 py-1 rounded-full border border-white/10 text-xs text-slate-400 hover:text-white transition cursor-default">Qdrant</div>
				<div class="px-3 py-1 rounded-full border border-white/10 text-xs text-slate-400 hover:text-white transition cursor-default">Azure</div>
			</div>

			<div class="text-slate-600 text-xs">
				&copy; 2026 APP_Jupter Ecosystem.
			</div>
		</div>
	</footer>
</Layout>

<script>
    const form = document.getElementById('contact-form') as HTMLFormElement;
    const btn = document.getElementById('submit-btn') as HTMLButtonElement;
    const msg = document.getElementById('form-message') as HTMLDivElement;

    // Nota: Para que el envío funcione en modo estático, usamos un servicio client-side.
    // Reemplaza estos valores con tus credenciales de EmailJS o similar si deseas activarlo.
    const SERVICE_ID = 'default_service';
    const TEMPLATE_ID = 'template_contact';
    const PUBLIC_KEY = 'your_public_key';

    if (form) {
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            btn.disabled = true;
            btn.innerHTML = 'Enviando...';
            
            const formData = new FormData(form);
            const data = Object.fromEntries(formData.entries());

            try {
                // Simulamos el envío para la demo estática o integramos con un servicio externo
                // En un entorno real, aquí llamarías a emailjs.send() o un webhook de Formspree
                
                console.log('Datos a enviar:', data);
                
                // Simulación de delay de red
                await new Promise(resolve => setTimeout(resolve, 1500));

                msg.classList.remove('hidden', 'bg-red-500/10', 'text-red-400');
                msg.classList.add('bg-green-500/10', 'text-green-400');
                msg.innerHTML = '¡Mensaje enviado (Simulado)! Para producción, configura tus llaves de API.';
                form.reset();
                
            } catch (err: any) {
                msg.classList.remove('hidden', 'bg-green-500/10', 'text-green-400');
                msg.classList.add('bg-red-500/10', 'text-red-400');
                msg.innerHTML = 'Error: ' + err.message;
            } finally {
                btn.disabled = false;
                btn.innerHTML = 'Enviar Mensaje';
            }
        });
    }
</script>
